{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\henriquet\\\\Desktop\\\\projetos\\\\SIM_WEB\\\\src\\\\components\\\\DatePickerInput\\\\index.js\";\nimport React, { useRef, useEffect, useState } from 'react';\nimport ReactDatePicker, { setDefaultLocale } from 'react-datepicker';\nimport pt from 'date-fns/locale/pt';\nimport MaskedInput from 'react-text-mask';\nimport { useField } from '@rocketseat/unform';\nimport PropTypes from 'prop-types';\nimport { DatePickerInputWrapper } from './styles';\nimport 'react-datepicker/dist/react-datepicker.css';\nsetDefaultLocale(pt);\nexport default function DatePickerInput({\n  name,\n  label,\n  disabled,\n  onChange,\n  value,\n  ...rest\n}) {\n  const ref = useRef();\n  const {\n    fieldName,\n    registerField,\n    defaultValue,\n    error\n  } = useField(name);\n  const [selected, setSelected] = useState(defaultValue);\n  useEffect(() => {\n    if (!value || value !== 'Data inválida!') {\n      setSelected(value);\n    }\n  }, [value]);\n  useEffect(() => {\n    setSelected(defaultValue);\n  }, [defaultValue]);\n  useEffect(() => {\n    registerField({\n      name: fieldName,\n      ref: ref.current,\n      path: 'props.selected',\n      clearValue: pickerRef => {\n        pickerRef.clear();\n      }\n    });\n  }, [ref.current, fieldName]); // eslint-disable-line\n\n  return React.createElement(DatePickerInputWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: fieldName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, label, React.createElement(ReactDatePicker, Object.assign({\n    id: fieldName,\n    autoComplete: \"off\",\n    disabled: disabled,\n    customInput: React.createElement(MaskedInput, {\n      mask: [/\\d/, /\\d/, '/', /\\d/, /\\d/, '/', /\\d/, /\\d/, /\\d/, /\\d/],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }),\n    name: fieldName,\n    selected: selected,\n    onChange: date => {\n      setSelected(date);\n      onChange(date);\n    },\n    dateFormat: \"P\",\n    ref: ref\n  }, rest, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  })), error && React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, error)));\n}\nDatePickerInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  disabled: PropTypes.bool,\n  onChange: PropTypes.func,\n  value: PropTypes.any // eslint-disable-line\n\n};\nDatePickerInput.defaultProps = {\n  label: '',\n  disabled: false,\n  onChange: () => {},\n  value: null\n};","map":{"version":3,"sources":["C:/Users/henriquet/Desktop/projetos/SIM_WEB/src/components/DatePickerInput/index.js"],"names":["React","useRef","useEffect","useState","ReactDatePicker","setDefaultLocale","pt","MaskedInput","useField","PropTypes","DatePickerInputWrapper","DatePickerInput","name","label","disabled","onChange","value","rest","ref","fieldName","registerField","defaultValue","error","selected","setSelected","current","path","clearValue","pickerRef","clear","date","propTypes","string","isRequired","bool","func","any","defaultProps"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\n\r\nimport ReactDatePicker, { setDefaultLocale } from 'react-datepicker';\r\nimport pt from 'date-fns/locale/pt';\r\nimport MaskedInput from 'react-text-mask';\r\n\r\nimport { useField } from '@rocketseat/unform';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { DatePickerInputWrapper } from './styles';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\nsetDefaultLocale(pt);\r\n\r\nexport default function DatePickerInput({\r\n  name,\r\n  label,\r\n  disabled,\r\n  onChange,\r\n  value,\r\n  ...rest\r\n}) {\r\n  const ref = useRef();\r\n  const { fieldName, registerField, defaultValue, error } = useField(name);\r\n  const [selected, setSelected] = useState(defaultValue);\r\n\r\n  useEffect(() => {\r\n    if (!value || value !== 'Data inválida!') {\r\n      setSelected(value);\r\n    }\r\n  }, [value]);\r\n\r\n  useEffect(() => {\r\n    setSelected(defaultValue);\r\n  }, [defaultValue]);\r\n\r\n  useEffect(() => {\r\n    registerField({\r\n      name: fieldName,\r\n      ref: ref.current,\r\n      path: 'props.selected',\r\n      clearValue: pickerRef => {\r\n        pickerRef.clear();\r\n      },\r\n    });\r\n  }, [ref.current, fieldName]); // eslint-disable-line\r\n\r\n  return (\r\n    <DatePickerInputWrapper>\r\n      <label htmlFor={fieldName}>\r\n        {label}\r\n        <ReactDatePicker\r\n          id={fieldName}\r\n          autoComplete=\"off\"\r\n          disabled={disabled}\r\n          customInput={\r\n            <MaskedInput\r\n              mask={[/\\d/, /\\d/, '/', /\\d/, /\\d/, '/', /\\d/, /\\d/, /\\d/, /\\d/]}\r\n            />\r\n          }\r\n          name={fieldName}\r\n          selected={selected}\r\n          onChange={date => {\r\n            setSelected(date);\r\n            onChange(date);\r\n          }}\r\n          dateFormat=\"P\"\r\n          ref={ref}\r\n          {...rest} // eslint-disable-line\r\n        />\r\n        {error && <span>{error}</span>}\r\n      </label>\r\n    </DatePickerInputWrapper>\r\n  );\r\n}\r\n\r\nDatePickerInput.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  label: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  onChange: PropTypes.func,\r\n  value: PropTypes.any, // eslint-disable-line\r\n};\r\n\r\nDatePickerInput.defaultProps = {\r\n  label: '',\r\n  disabled: false,\r\n  onChange: () => {},\r\n  value: null,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}