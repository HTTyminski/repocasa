{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\henriquet\\\\Desktop\\\\projetos\\\\SIM_WEB\\\\src\\\\components\\\\TimePickerInput\\\\index.js\";\nimport React, { useRef, useEffect, useState } from 'react';\nimport TimePicker from 'react-time-picker';\nimport { useField } from '@rocketseat/unform';\nimport PropTypes from 'prop-types';\nimport { TimePickerInputWrapper } from './styles';\nexport default function TimePickerInput({\n  name,\n  label,\n  disabled,\n  onChange,\n  value,\n  ...rest\n}) {\n  const ref = useRef();\n  const inputEl = useRef();\n  const {\n    fieldName,\n    registerField,\n    defaultValue,\n    error\n  } = useField(name);\n  const [selected, setSelected] = useState(defaultValue);\n  useEffect(() => {\n    if (!value || value !== 'Hora inválida') {\n      setSelected(value);\n    }\n  }, [value]);\n  useEffect(() => {\n    ref.current.addEventListener('focus', function () {\n      document.getElementById('divRef').setAttribute('style', 'opacity: 0.7');\n    });\n    ref.current.addEventListener('blur', function () {\n      document.getElementById('divRef').removeAttribute('style', 'opacity: 0');\n    });\n  }, [inputEl]);\n  useEffect(() => {\n    registerField({\n      name: fieldName,\n      ref: ref.current,\n      path: 'props.selected',\n      clearValue: pickerRef => {\n        pickerRef.clear();\n      }\n    });\n  }, [ref.current, fieldName]); // eslint-disable-line\n\n  return React.createElement(TimePickerInputWrapper, {\n    id: \"divRef\",\n    ref: inputEl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: fieldName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, label, React.createElement(TimePicker, Object.assign({\n    disableClock: true,\n    clearIcon: false,\n    hourPlaceholder: \"00\",\n    minutePlaceholder: \"00\",\n    id: fieldName,\n    autoComplete: \"off\",\n    disabled: disabled,\n    name: fieldName,\n    selected: selected,\n    onChange: time => {\n      setSelected(time);\n      onChange(time);\n    },\n    ref: ref\n  }, rest, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })), error && React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, error)));\n}\nTimePickerInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  disabled: PropTypes.bool,\n  onChange: PropTypes.func,\n  value: PropTypes.any // eslint-disable-line\n\n};\nTimePickerInput.defaultProps = {\n  label: '',\n  disabled: false,\n  onChange: () => {},\n  value: null\n};","map":{"version":3,"sources":["C:/Users/henriquet/Desktop/projetos/SIM_WEB/src/components/TimePickerInput/index.js"],"names":["React","useRef","useEffect","useState","TimePicker","useField","PropTypes","TimePickerInputWrapper","TimePickerInput","name","label","disabled","onChange","value","rest","ref","inputEl","fieldName","registerField","defaultValue","error","selected","setSelected","current","addEventListener","document","getElementById","setAttribute","removeAttribute","path","clearValue","pickerRef","clear","time","propTypes","string","isRequired","bool","func","any","defaultProps"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\n\nimport TimePicker from 'react-time-picker';\n\nimport { useField } from '@rocketseat/unform';\nimport PropTypes from 'prop-types';\n\nimport { TimePickerInputWrapper } from './styles';\n\nexport default function TimePickerInput({\n  name,\n  label,\n  disabled,\n  onChange,\n  value,\n  ...rest\n}) {\n  const ref = useRef();\n  const inputEl = useRef();\n  const { fieldName, registerField, defaultValue, error } = useField(name);\n  const [selected, setSelected] = useState(defaultValue);\n\n  useEffect(() => {\n    if (!value || value !== 'Hora inválida') {\n      setSelected(value);\n    }\n  }, [value]);\n\n  useEffect(() => {\n    ref.current.addEventListener('focus', function() {\n      document.getElementById('divRef').setAttribute('style', 'opacity: 0.7');\n    });\n    ref.current.addEventListener('blur', function() {\n      document.getElementById('divRef').removeAttribute('style', 'opacity: 0');\n    });\n  }, [inputEl]);\n\n  useEffect(() => {\n    registerField({\n      name: fieldName,\n      ref: ref.current,\n      path: 'props.selected',\n      clearValue: pickerRef => {\n        pickerRef.clear();\n      },\n    });\n  }, [ref.current, fieldName]); // eslint-disable-line\n\n  return (\n    <TimePickerInputWrapper id=\"divRef\" ref={inputEl}>\n      <label htmlFor={fieldName}>\n        {label}\n        <TimePicker\n          disableClock\n          clearIcon={false}\n          hourPlaceholder=\"00\"\n          minutePlaceholder=\"00\"\n          id={fieldName}\n          autoComplete=\"off\"\n          disabled={disabled}\n          name={fieldName}\n          selected={selected}\n          onChange={time => {\n            setSelected(time);\n            onChange(time);\n          }}\n          ref={ref}\n          {...rest} // eslint-disable-line\n        />\n        {error && <span>{error}</span>}\n      </label>\n    </TimePickerInputWrapper>\n  );\n}\n\nTimePickerInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  disabled: PropTypes.bool,\n  onChange: PropTypes.func,\n  value: PropTypes.any, // eslint-disable-line\n};\n\nTimePickerInput.defaultProps = {\n  label: '',\n  disabled: false,\n  onChange: () => {},\n  value: null,\n};\n"]},"metadata":{},"sourceType":"module"}