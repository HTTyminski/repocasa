{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\henriquet\\\\Desktop\\\\projetos\\\\SIM_WEB\\\\src\\\\pages\\\\ConsumoHotel\\\\index.js\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport ReactTooltip from 'react-tooltip';\nimport LoadGraph from '../../components/LoadGraph';\nimport Shimmer from 'react-shimmer-effect';\nimport { StyledBoxes, StyledTitleAction } from './styles';\nimport ChartBar from '../../components/ChartBar';\nimport Container from '../../components/Container';\nimport RadioSliding from '../../components/RadioSliding';\nimport TableConsumption from '../../components/TableConsumption';\nimport api from '../../services/api';\nimport { currencyBRoptions } from '../../util/graphs/currency';\nimport { consumptionTypes } from '../../util/consumption/types';\nexport default function ConsumoHotel() {\n  const [loading, setLoading] = useState(false);\n  const [hotelConsumption, setHotelConsumption] = useState([]);\n  const [hotelConsumptionChart, setHotelConsumptionChart] = useState([]);\n  const [hotelConsumptionReadChart, sethotelConsumptionReadChart] = useState([]);\n  const [totalsConsumption, setTotalsConsumption] = useState([]);\n  const [isToggleContainer, setToggleContainer] = useState(true);\n  const [isToggleGraphConsumption, setToggleGraphConsumption] = useState(true);\n  const optionsConsumptionHotel = useSelector(state => state.consumptionhotel);\n  const clockConfig = consumptionTypes.find(a => a.value === optionsConsumptionHotel.consumption[0]);\n  console.log(clockConfig);\n  const hotelID = useSelector(state => state.user.profile.activeHotel);\n  const loadTotals = useCallback(async () => {\n    try {\n      if (optionsConsumptionHotel.end && optionsConsumptionHotel.start) {\n        setLoading(true);\n        const setStartYear = optionsConsumptionHotel.start.year();\n        const setStartMonth = optionsConsumptionHotel.start.month() + 1;\n        const setEndYear = optionsConsumptionHotel.end.year();\n        const setEndMonth = optionsConsumptionHotel.end.month() + 1;\n        const selectedHotelParams = new URLSearchParams();\n        selectedHotelParams.append('selected_hotels', hotelID);\n        selectedHotelParams.append('initial_range_year', setStartYear);\n        selectedHotelParams.append('initial_range_month', setStartMonth);\n        selectedHotelParams.append('final_range_month', setEndMonth);\n        selectedHotelParams.append('final_range_year', setEndYear);\n\n        if (clockConfig.type) {\n          selectedHotelParams.append('type', clockConfig.type);\n        }\n\n        if (optionsConsumptionHotel.select) {\n          optionsConsumptionHotel.select.forEach(element => {\n            return selectedHotelParams.append('selected_clocks', element.value);\n          });\n        }\n\n        const request = {\n          params: selectedHotelParams\n        };\n        const response = await api.get(`/general-consumption-totals`, request);\n        setTotalsConsumption(response.data);\n      }\n    } catch (error) {\n      toast.error('Não foi possível carregar o consumo do hotel.');\n      console.error('LoadTotals errors: ', error);\n    }\n\n    setLoading(false); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [optionsConsumptionHotel, hotelID]);\n  const loadHotelConsumption = useCallback(async () => {\n    try {\n      setLoading(true);\n      const setStartYear = optionsConsumptionHotel.start.year();\n      const setStartMonth = optionsConsumptionHotel.start.month() + 1;\n      const setEndYear = optionsConsumptionHotel.end.year();\n      const setEndMonth = optionsConsumptionHotel.end.month() + 1;\n      const selectedHotelParams = new URLSearchParams();\n      selectedHotelParams.append('hotel_id', hotelID);\n      selectedHotelParams.append('initial_range_year', setStartYear);\n      selectedHotelParams.append('initial_range_month', setStartMonth);\n      selectedHotelParams.append('final_range_month', setEndMonth);\n      selectedHotelParams.append('final_range_year', setEndYear);\n\n      if (clockConfig.type) {\n        selectedHotelParams.append('type', clockConfig.type);\n      }\n\n      if (optionsConsumptionHotel.select) {\n        optionsConsumptionHotel.select.forEach(element => {\n          return selectedHotelParams.append('selected_clocks', element.value);\n        });\n      }\n\n      const request = {\n        params: selectedHotelParams\n      };\n      const response = await api.get(`/consumption-by-hotel`, request);\n      setHotelConsumption(response.data);\n    } catch (error) {\n      toast.error('Não foi possível carregar o consumo do hotel.');\n      console.error('Error on loadHotelConsumption: ', error);\n    }\n\n    setLoading(false); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [optionsConsumptionHotel, hotelID]);\n  useEffect(() => {\n    loadHotelConsumption();\n  }, [loadHotelConsumption]);\n  const mountChartConsumption = useCallback(async () => {\n    let spentBackgroundColor = clockConfig.backgroundcolor;\n    const dataHotelSpent = [];\n    const dataHotelBudgeted = [];\n    const dataHotelRead = [];\n    const labelMonths = [];\n\n    for (let key in hotelConsumption) {\n      let monthYear = 'Não informado';\n\n      if (hotelConsumption[key] && hotelConsumption[key].month && hotelConsumption[key].year) {\n        const month = hotelConsumption[key].month_name;\n        const year = hotelConsumption[key].year;\n        monthYear = month + '/' + year;\n      }\n\n      dataHotelSpent.push(hotelConsumption[key] && hotelConsumption[key].spent);\n      dataHotelBudgeted.push(hotelConsumption[key] && hotelConsumption[key].budgeted);\n      dataHotelRead.push(hotelConsumption[key] && hotelConsumption[key].read);\n      labelMonths.push(monthYear);\n    }\n\n    const mountChart = {\n      data: {\n        labels: labelMonths,\n        datasets: [{\n          label: 'Ocupado',\n          data: dataHotelRead,\n          fill: false,\n          borderColor: 'rgba(82, 201, 102, 1)',\n          type: 'line',\n          pointBackgroundColor: '#fff',\n          pointBorderColor: 'rgba(82, 201, 102, 1)',\n          pointRadius: 5,\n          pointBorderWidth: 2,\n          index: 2\n        }, {\n          label: 'Realizado',\n          data: dataHotelSpent,\n          backgroundColor: spentBackgroundColor,\n          maxBarThickness: 45,\n          type: 'bar',\n          index: 1\n        }, {\n          label: 'Orçado',\n          data: dataHotelBudgeted,\n          backgroundColor: 'rgba(242, 243, 255, 1)',\n          maxBarThickness: 65,\n          type: 'bar',\n          index: 0\n        }]\n      },\n      options: currencyBRoptions\n    };\n    setHotelConsumptionChart([mountChart]); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [optionsConsumptionHotel, hotelConsumption]);\n  const mountChartConsumptionRead = useCallback(async () => {\n    let spentBackgroundColor = clockConfig.backgroundcolor;\n    const dataHotelSpent = [];\n    const dataHotelRead = [];\n    const labelMonths = [];\n\n    for (let key in hotelConsumption) {\n      let monthYear = 'Não informado';\n\n      if (hotelConsumption[key] && hotelConsumption[key].month && hotelConsumption[key].year) {\n        const month = hotelConsumption[key].month_name;\n        const year = hotelConsumption[key].year;\n        monthYear = month + '/' + year;\n      }\n\n      dataHotelSpent.push(hotelConsumption[key] && hotelConsumption[key].spent);\n      dataHotelRead.push(hotelConsumption[key] && hotelConsumption[key].read);\n      labelMonths.push(monthYear);\n    }\n\n    const mountChart = {\n      data: {\n        labels: labelMonths,\n        datasets: [{\n          label: 'Ocupado',\n          data: dataHotelRead,\n          fill: false,\n          borderColor: 'rgba(82, 201, 102, 1)',\n          type: 'line',\n          pointBackgroundColor: '#fff',\n          pointBorderColor: 'rgba(82, 201, 102, 1)',\n          pointRadius: 5,\n          pointBorderWidth: 2,\n          index: 2\n        }, {\n          label: 'Realizado',\n          data: dataHotelSpent,\n          backgroundColor: spentBackgroundColor,\n          maxBarThickness: 45,\n          type: 'bar',\n          index: 1\n        }]\n      },\n      options: {\n        elements: {\n          line: {\n            tension: 0\n          }\n        },\n        scales: {\n          yAxes: [{\n            ticks: {\n              callback: function (value) {\n                const metric = clockConfig.type === 1 ? ' Kg' : clockConfig.type === 2 ? ' KWh' : ' m³';\n                return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.') + metric;\n              }\n            }\n          }],\n          xAxes: [{\n            gridLines: {\n              display: false\n            },\n            stacked: true\n          }]\n        },\n        legend: {\n          display: true,\n          position: 'bottom',\n          labels: {\n            usePointStyle: true\n          }\n        }\n      }\n    };\n    sethotelConsumptionReadChart([mountChart]); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [optionsConsumptionHotel, hotelConsumption]);\n  useEffect(() => {\n    document.title = 'SIM - Consumo | Consumo por Hotel';\n    loadTotals();\n  }, [loadTotals, setHotelConsumption]);\n  useEffect(() => {\n    mountChartConsumption();\n  }, [mountChartConsumption]);\n  useEffect(() => {\n    mountChartConsumptionRead();\n  }, [mountChartConsumptionRead]);\n\n  function toggleContainer() {\n    setToggleContainer(!isToggleContainer);\n  }\n\n  function toggleGraphConsumption() {\n    setToggleGraphConsumption(!isToggleGraphConsumption);\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(StyledBoxes, {\n    className: \"box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288\n    },\n    __self: this\n  }, totalsConsumption.map((item, key) => React.createElement(\"div\", {\n    key: item.type,\n    className: \"box__item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"box__item-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292\n    },\n    __self: this\n  }, clockConfig && clockConfig.name, key === 1 ? ' / RNE' : key === 2 ? ' / Rec' : ''), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: `arrow consumption-${item.difference > 0 ? 'up' : 'down'}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297\n    },\n    __self: this\n  }), item.difference, \"%\")), React.createElement(\"div\", {\n    className: \"box__item-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"icon icon--budget\",\n    \"data-tip\": \"Or\\xE7ado\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307\n    },\n    __self: this\n  }, React.createElement(ReactTooltip, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"circle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309\n    },\n    __self: this\n  })), item.budgeted_formatted), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: `icon icon--fulfilled icon-type-${clockConfig.type}`,\n    \"data-tip\": \"Realizado\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"letter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318\n    },\n    __self: this\n  }, \"R\")), item.spent_formatted))))), React.createElement(Container, {\n    className: \"content full\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326\n    },\n    __self: this\n  }, React.createElement(StyledTitleAction, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"chart-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328\n    },\n    __self: this\n  }, \"Consumo or\\xE7ado x realizado\", ' ', React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330\n    },\n    __self: this\n  }, clockConfig && clockConfig.name)), React.createElement(RadioSliding, {\n    name: \"isToggleContainer\",\n    changeRadio: toggleContainer,\n    icon: true,\n    opOne: \"iconGraph\",\n    opTwo: \"iconList\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332\n    },\n    __self: this\n  })), clockConfig.value !== 'UTILITIES' ? React.createElement(RadioSliding, {\n    name: \"isToggleGraphConsumption\",\n    changeRadio: toggleGraphConsumption,\n    icon: false,\n    opOne: clockConfig.type === 1 ? 'Kg' : clockConfig.type === 2 ? 'KWh' : 'm³',\n    opTwo: \"R$\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341\n    },\n    __self: this\n  }) : '', loading ? React.createElement(Shimmer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358\n    },\n    __self: this\n  }, React.createElement(LoadGraph, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359\n    },\n    __self: this\n  })) : isToggleContainer ? isToggleGraphConsumption && clockConfig.value !== 'UTILITIES' ? hotelConsumptionReadChart.map(item => React.createElement(ChartBar, {\n    key: item.data,\n    displayTitle: false,\n    displayLegend: true,\n    data: item.data,\n    options: item.options,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364\n    },\n    __self: this\n  })) : hotelConsumptionChart.map(item => React.createElement(ChartBar, {\n    key: item.data,\n    displayTitle: false,\n    displayLegend: true,\n    data: item.data,\n    options: item.options,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374\n    },\n    __self: this\n  })) : React.createElement(TableConsumption, {\n    data: hotelConsumption,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["C:/Users/henriquet/Desktop/projetos/SIM_WEB/src/pages/ConsumoHotel/index.js"],"names":["React","useState","useEffect","useCallback","useSelector","toast","ReactTooltip","LoadGraph","Shimmer","StyledBoxes","StyledTitleAction","ChartBar","Container","RadioSliding","TableConsumption","api","currencyBRoptions","consumptionTypes","ConsumoHotel","loading","setLoading","hotelConsumption","setHotelConsumption","hotelConsumptionChart","setHotelConsumptionChart","hotelConsumptionReadChart","sethotelConsumptionReadChart","totalsConsumption","setTotalsConsumption","isToggleContainer","setToggleContainer","isToggleGraphConsumption","setToggleGraphConsumption","optionsConsumptionHotel","state","consumptionhotel","clockConfig","find","a","value","consumption","console","log","hotelID","user","profile","activeHotel","loadTotals","end","start","setStartYear","year","setStartMonth","month","setEndYear","setEndMonth","selectedHotelParams","URLSearchParams","append","type","select","forEach","element","request","params","response","get","data","error","loadHotelConsumption","mountChartConsumption","spentBackgroundColor","backgroundcolor","dataHotelSpent","dataHotelBudgeted","dataHotelRead","labelMonths","key","monthYear","month_name","push","spent","budgeted","read","mountChart","labels","datasets","label","fill","borderColor","pointBackgroundColor","pointBorderColor","pointRadius","pointBorderWidth","index","backgroundColor","maxBarThickness","options","mountChartConsumptionRead","elements","line","tension","scales","yAxes","ticks","callback","metric","toString","replace","xAxes","gridLines","display","stacked","legend","position","usePointStyle","document","title","toggleContainer","toggleGraphConsumption","map","item","name","difference","budgeted_formatted","spent_formatted"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport ReactTooltip from 'react-tooltip';\nimport LoadGraph from '../../components/LoadGraph';\nimport Shimmer from 'react-shimmer-effect';\n\nimport { StyledBoxes, StyledTitleAction } from './styles';\n\nimport ChartBar from '../../components/ChartBar';\nimport Container from '../../components/Container';\nimport RadioSliding from '../../components/RadioSliding';\nimport TableConsumption from '../../components/TableConsumption';\n\nimport api from '../../services/api';\nimport { currencyBRoptions } from '../../util/graphs/currency';\nimport { consumptionTypes } from '../../util/consumption/types';\n\nexport default function ConsumoHotel() {\n  const [loading, setLoading] = useState(false);\n  const [hotelConsumption, setHotelConsumption] = useState([]);\n  const [hotelConsumptionChart, setHotelConsumptionChart] = useState([]);\n  const [hotelConsumptionReadChart, sethotelConsumptionReadChart] = useState(\n    []\n  );\n  const [totalsConsumption, setTotalsConsumption] = useState([]);\n  const [isToggleContainer, setToggleContainer] = useState(true);\n  const [isToggleGraphConsumption, setToggleGraphConsumption] = useState(true);\n\n  const optionsConsumptionHotel = useSelector(state => state.consumptionhotel);\n  const clockConfig = consumptionTypes.find(\n    a => a.value === optionsConsumptionHotel.consumption[0]\n  );\n  console.log(clockConfig)\n\n  const hotelID = useSelector(state => state.user.profile.activeHotel);\n\n  const loadTotals = useCallback(async () => {\n    try {\n      if (optionsConsumptionHotel.end && optionsConsumptionHotel.start) {\n        setLoading(true);\n        const setStartYear = optionsConsumptionHotel.start.year();\n        const setStartMonth = optionsConsumptionHotel.start.month() + 1;\n        const setEndYear = optionsConsumptionHotel.end.year();\n        const setEndMonth = optionsConsumptionHotel.end.month() + 1;\n        const selectedHotelParams = new URLSearchParams();\n        selectedHotelParams.append('selected_hotels', hotelID);\n        selectedHotelParams.append('initial_range_year', setStartYear);\n        selectedHotelParams.append('initial_range_month', setStartMonth);\n        selectedHotelParams.append('final_range_month', setEndMonth);\n        selectedHotelParams.append('final_range_year', setEndYear);\n        if (clockConfig.type) {\n          selectedHotelParams.append('type', clockConfig.type);\n        }\n        if (optionsConsumptionHotel.select) {\n          optionsConsumptionHotel.select.forEach(element => {\n            return selectedHotelParams.append('selected_clocks', element.value);\n          });\n        }\n        const request = { params: selectedHotelParams };\n        const response = await api.get(`/general-consumption-totals`, request);\n        setTotalsConsumption(response.data);\n      }\n    } catch (error) {\n      toast.error('Não foi possível carregar o consumo do hotel.');\n      console.error('LoadTotals errors: ', error);\n    }\n    setLoading(false);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [optionsConsumptionHotel, hotelID]);\n\n  const loadHotelConsumption = useCallback(async () => {\n    try {\n      setLoading(true);\n      const setStartYear = optionsConsumptionHotel.start.year();\n      const setStartMonth = optionsConsumptionHotel.start.month() + 1;\n      const setEndYear = optionsConsumptionHotel.end.year();\n      const setEndMonth = optionsConsumptionHotel.end.month() + 1;\n      const selectedHotelParams = new URLSearchParams();\n      selectedHotelParams.append('hotel_id', hotelID);\n      selectedHotelParams.append('initial_range_year', setStartYear);\n      selectedHotelParams.append('initial_range_month', setStartMonth);\n      selectedHotelParams.append('final_range_month', setEndMonth);\n      selectedHotelParams.append('final_range_year', setEndYear);\n      if (clockConfig.type) {\n        selectedHotelParams.append('type', clockConfig.type);\n      }\n      if (optionsConsumptionHotel.select) {\n        optionsConsumptionHotel.select.forEach(element => {\n          return selectedHotelParams.append('selected_clocks', element.value);\n        });\n      }\n      const request = { params: selectedHotelParams };\n      const response = await api.get(`/consumption-by-hotel`, request);\n      setHotelConsumption(response.data);\n    } catch (error) {\n      toast.error('Não foi possível carregar o consumo do hotel.');\n      console.error('Error on loadHotelConsumption: ', error);\n    }\n    setLoading(false);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [optionsConsumptionHotel, hotelID]);\n\n  useEffect(() => {\n    loadHotelConsumption();\n  }, [loadHotelConsumption]);\n\n  const mountChartConsumption = useCallback(async () => {\n    let spentBackgroundColor = clockConfig.backgroundcolor;\n    const dataHotelSpent = [];\n    const dataHotelBudgeted = [];\n    const dataHotelRead = [];\n    const labelMonths = [];\n    for (let key in hotelConsumption) {\n      let monthYear = 'Não informado';\n      if (\n        hotelConsumption[key] &&\n        hotelConsumption[key].month &&\n        hotelConsumption[key].year\n      ) {\n        const month = hotelConsumption[key].month_name;\n        const year = hotelConsumption[key].year;\n        monthYear = month + '/' + year;\n      }\n      dataHotelSpent.push(hotelConsumption[key] && hotelConsumption[key].spent);\n      dataHotelBudgeted.push(\n        hotelConsumption[key] && hotelConsumption[key].budgeted\n      );\n      dataHotelRead.push(hotelConsumption[key] && hotelConsumption[key].read);\n      labelMonths.push(monthYear);\n    }\n    const mountChart = {\n      data: {\n        labels: labelMonths,\n        datasets: [\n          {\n            label: 'Ocupado',\n            data: dataHotelRead,\n            fill: false,\n            borderColor: 'rgba(82, 201, 102, 1)',\n            type: 'line',\n            pointBackgroundColor: '#fff',\n            pointBorderColor: 'rgba(82, 201, 102, 1)',\n            pointRadius: 5,\n            pointBorderWidth: 2,\n            index: 2,\n          },\n          {\n            label: 'Realizado',\n            data: dataHotelSpent,\n            backgroundColor: spentBackgroundColor,\n            maxBarThickness: 45,\n            type: 'bar',\n            index: 1,\n          },\n          {\n            label: 'Orçado',\n            data: dataHotelBudgeted,\n            backgroundColor: 'rgba(242, 243, 255, 1)',\n            maxBarThickness: 65,\n            type: 'bar',\n            index: 0,\n          },\n        ],\n      },\n      options: currencyBRoptions,\n    };\n    setHotelConsumptionChart([mountChart]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [optionsConsumptionHotel, hotelConsumption]);\n\n  const mountChartConsumptionRead = useCallback(async () => {\n    let spentBackgroundColor = clockConfig.backgroundcolor;\n    const dataHotelSpent = [];\n    const dataHotelRead = [];\n    const labelMonths = [];\n    for (let key in hotelConsumption) {\n      let monthYear = 'Não informado';\n      if (\n        hotelConsumption[key] &&\n        hotelConsumption[key].month &&\n        hotelConsumption[key].year\n      ) {\n        const month = hotelConsumption[key].month_name;\n        const year = hotelConsumption[key].year;\n        monthYear = month + '/' + year;\n      }\n      dataHotelSpent.push(hotelConsumption[key] && hotelConsumption[key].spent);\n      dataHotelRead.push(hotelConsumption[key] && hotelConsumption[key].read);\n      labelMonths.push(monthYear);\n    }\n    const mountChart = {\n      data: {\n        labels: labelMonths,\n        datasets: [\n          {\n            label: 'Ocupado',\n            data: dataHotelRead,\n            fill: false,\n            borderColor: 'rgba(82, 201, 102, 1)',\n            type: 'line',\n            pointBackgroundColor: '#fff',\n            pointBorderColor: 'rgba(82, 201, 102, 1)',\n            pointRadius: 5,\n            pointBorderWidth: 2,\n            index: 2,\n          },\n          {\n            label: 'Realizado',\n            data: dataHotelSpent,\n            backgroundColor: spentBackgroundColor,\n            maxBarThickness: 45,\n            type: 'bar',\n            index: 1,\n          },\n        ],\n      },\n      options: {\n        elements: {\n          line: {\n            tension: 0,\n          },\n        },\n        scales: {\n          yAxes: [\n            {\n              ticks: {\n                callback: function(value) {\n                  const metric =\n                    clockConfig.type === 1\n                      ? ' Kg'\n                      : clockConfig.type === 2\n                      ? ' KWh'\n                      : ' m³';\n                  return (\n                    value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.') +\n                    metric\n                  );\n                },\n              },\n            },\n          ],\n          xAxes: [\n            {\n              gridLines: {\n                display: false,\n              },\n              stacked: true,\n            },\n          ],\n        },\n        legend: {\n          display: true,\n          position: 'bottom',\n          labels: {\n            usePointStyle: true,\n          },\n        },\n      },\n    };\n    sethotelConsumptionReadChart([mountChart]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [optionsConsumptionHotel, hotelConsumption]);\n\n  useEffect(() => {\n    document.title = 'SIM - Consumo | Consumo por Hotel';\n    loadTotals();\n  }, [loadTotals, setHotelConsumption]);\n\n  useEffect(() => {\n    mountChartConsumption();\n  }, [mountChartConsumption]);\n\n  useEffect(() => {\n    mountChartConsumptionRead();\n  }, [mountChartConsumptionRead]);\n\n  function toggleContainer() {\n    setToggleContainer(!isToggleContainer);\n  }\n\n  function toggleGraphConsumption() {\n    setToggleGraphConsumption(!isToggleGraphConsumption);\n  }\n\n  return (\n    <>\n      <StyledBoxes className=\"box\">\n        {totalsConsumption.map((item, key) => (\n          <div key={item.type} className=\"box__item\">\n            <div className=\"box__item-left\">\n              <h3>\n                {clockConfig && clockConfig.name}\n                {key === 1 ? ' / RNE' : key === 2 ? ' / Rec' : ''}\n              </h3>\n              <span>\n                <span\n                  className={`arrow consumption-${\n                    item.difference > 0 ? 'up' : 'down'\n                  }`}\n                />\n                {item.difference}%\n              </span>\n            </div>\n            <div className=\"box__item-right\">\n              <div>\n                <span className=\"icon icon--budget\" data-tip=\"Orçado\">\n                  <ReactTooltip />\n                  <span className=\"circle\" />\n                </span>\n                {item.budgeted_formatted}\n              </div>\n              <div>\n                <span\n                  className={`icon icon--fulfilled icon-type-${clockConfig.type}`}\n                  data-tip=\"Realizado\"\n                >\n                  <span className=\"letter\">R</span>\n                </span>\n                {item.spent_formatted}\n              </div>\n            </div>\n          </div>\n        ))}\n      </StyledBoxes>\n      <Container className=\"content full\">\n        <StyledTitleAction>\n          <div className=\"chart-title\">\n            Consumo orçado x realizado{' '}\n            <span>{clockConfig && clockConfig.name}</span>\n          </div>\n          <RadioSliding\n            name=\"isToggleContainer\"\n            changeRadio={toggleContainer}\n            icon={true}\n            opOne=\"iconGraph\"\n            opTwo=\"iconList\"\n          />\n        </StyledTitleAction>\n        {clockConfig.value !== 'UTILITIES' ? (\n          <RadioSliding\n            name=\"isToggleGraphConsumption\"\n            changeRadio={toggleGraphConsumption}\n            icon={false}\n            opOne={\n              clockConfig.type === 1\n                ? 'Kg'\n                : clockConfig.type === 2\n                ? 'KWh'\n                : 'm³'\n            }\n            opTwo=\"R$\"\n          />\n        ) : (\n          ''\n        )}\n        {loading ? (\n          <Shimmer>\n            <LoadGraph />\n          </Shimmer>\n        ) : isToggleContainer ? (\n          isToggleGraphConsumption && clockConfig.value !== 'UTILITIES' ? (\n            hotelConsumptionReadChart.map(item => (\n              <ChartBar\n                key={item.data}\n                displayTitle={false}\n                displayLegend\n                data={item.data}\n                options={item.options}\n              />\n            ))\n          ) : (\n            hotelConsumptionChart.map(item => (\n              <ChartBar\n                key={item.data}\n                displayTitle={false}\n                displayLegend\n                data={item.data}\n                options={item.options}\n              />\n            ))\n          )\n        ) : (\n          <TableConsumption data={hotelConsumption} />\n        )}\n      </Container>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}